{"version":3,"sources":["./src/app/pages/serie/serie.page.html","./src/app/pages/series/series.page.html","./src/app/pages/serie/serie.page.scss","./src/app/pages/serie/serie.page.ts","./src/app/pages/series/series-routing.module.ts","./src/app/pages/series/series.module.ts","./src/app/pages/series/series.page.scss","./src/app/pages/series/series.page.ts"],"names":[],"mappings":"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","file":"pages-series-series-module-es2015.js","sourcesContent":["export default \"<app-header [hidden]=\\\"cardSerie\\\" titulo=\\\"{{serie?.title}}\\\"></app-header>\\n\\n<ion-content>\\n    <ion-card [hidden]=\\\"cardSerie\\\">\\n        <ion-slides [options]=\\\"slideOpts\\\" pager=\\\"true\\\">\\n            <ion-slide *ngFor=\\\"let s of serie?.images\\\">\\n                <ion-img [src]=\\\"s\\\"></ion-img>\\n            </ion-slide>\\n        </ion-slides>\\n        <ion-list>\\n            <ion-card-header>\\n                <ion-card-title color=\\\"warning\\\">{{ serie?.title }}</ion-card-title>\\n                <ng-container *ngFor=\\\"let cat of serie?.categories;\\\">\\n                    <ion-chip *ngIf=\\\"mismaCategoria(cat)\\\" routerLink=\\\"/categories/{{catSlug}}\\\" color=\\\"danger\\\">\\n                        {{ cat }}\\n                    </ion-chip>\\n                </ng-container>\\n            </ion-card-header>\\n            <ion-card-content>\\n                <ion-item>\\n                    <ion-button (click)=\\\"visualizaciones(true,false,true)\\\" slot=\\\"start\\\">Puntuar</ion-button>\\n                    <ion-button (click)=\\\"visualizaciones(true,true,false)\\\" slot=\\\"end\\\">Ver Comentarios</ion-button>\\n                </ion-item>\\n                <ion-item>\\n                    Puntuación\\n                    <ion-badge style=\\\"margin-left: 20px;\\\" color=\\\"verdecito\\\">{{puntuacionTotal()}}</ion-badge>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-label color=\\\"secondary\\\">Año de emisión: {{serie?.year}}</ion-label>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-label color=\\\"primary\\\" style=\\\"font-size: 30px;\\\">Sinopsis:</ion-label>\\n                </ion-item>\\n                <ion-item>\\n                    {{serie?.sinopsis}}\\n                </ion-item>\\n                <ion-item>\\n                    <ion-label class=\\\"center\\\" color=\\\"tertiary\\\">Temporadas: {{serie?.seasons}}</ion-label>\\n                    <ion-label class=\\\"center\\\" color=\\\"tertiary\\\">Capítulos: {{serie?.episodes}}</ion-label>\\n                </ion-item>\\n            </ion-card-content>\\n        </ion-list>\\n    </ion-card>\\n\\n\\n    <ion-card [hidden]=\\\"cardForm\\\">\\n        <ion-card-header>\\n            <ion-card-title>Puntua la serie</ion-card-title>\\n            <ion-card-subtitle>Añade una puntuación a {{serie?.title}}</ion-card-subtitle>\\n        </ion-card-header>\\n        <ion-card-content>\\n            <form #formulario=\\\"ngForm\\\">\\n                <ion-list>\\n                    <ion-item>\\n                        <ion-label position=\\\"floating\\\">Email</ion-label>\\n                        <ion-input type=\\\"email\\\" name=\\\"email\\\"\\n                            pattern=\\\"[a-zA-Z0-9.-]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,5}\\\" [(ngModel)]=\\\"usuario.email\\\"\\n                            required></ion-input>\\n                    </ion-item>\\n\\n                    <ion-item>\\n                        <ion-label position=\\\"floating\\\">Puntuación</ion-label>\\n                        <ion-range pin=\\\"true\\\" type=\\\"range\\\" min=\\\"0\\\" max=\\\"10\\\" step=\\\"1\\\" snaps=\\\"true\\\" name=\\\"puntuacion\\\"\\n                            [(ngModel)]=\\\"usuario.puntuacion\\\" required>\\n                            <ion-label slot=\\\"start\\\">0</ion-label>\\n                            <ion-label slot=\\\"end\\\">10</ion-label>\\n                        </ion-range>\\n                    </ion-item>\\n                    <ion-item>\\n                        <ion-label position=\\\"floating\\\">Comentario</ion-label>\\n                        <ion-textarea name=\\\"comentario\\\" [(ngModel)]=\\\"usuario.comentario\\\"></ion-textarea>\\n                    </ion-item>\\n                    <ion-item>\\n                        <ion-button slot=\\\"start\\\" type=\\\"submit\\\" (click)=\\\"ejecutarFormulario(serie?.slug)\\\"\\n                            [disabled]=\\\"formulario.invalid\\\">Enviar Puntuación</ion-button>\\n                        <ion-button slot=\\\"end\\\" (click)=\\\"visualizaciones(false,true,true)\\\">Cancelar</ion-button>\\n                    </ion-item>\\n                </ion-list>\\n\\n            </form>\\n        </ion-card-content>\\n    </ion-card>\\n\\n    <div [hidden]=\\\"cardComentarios\\\">\\n        <ion-button expand=\\\"full\\\" color=\\\"warning\\\" fill=\\\"outline\\\" (click)=\\\"visualizaciones(false,true,true)\\\">Volver a la\\n            ficha de\\n            {{serie?.title}}</ion-button>\\n        <ion-title>Comentarios Recientes</ion-title>\\n        <ion-card *ngFor=\\\"let c of comentariosSerie\\\">\\n            <ion-card-content class=\\\"ion-padding\\\">\\n                <ion-grid>\\n                    <ion-row>\\n                        <ion-col size=\\\"2\\\">\\n                            <ion-thumbnail>\\n                                <img src=\\\"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y\\\">\\n                            </ion-thumbnail>\\n                        </ion-col>\\n                        <ion-col>\\n                            <ion-label><b>Fecha:</b> {{getFecha(c.fecha)}}</ion-label><br>\\n                            <ion-label><b>Email:</b> {{c.email}}</ion-label><br>\\n                            <ion-label><b>Comentario:</b>\\n                                <hr> {{c.comentario}}\\n                                <hr>\\n                            </ion-label>\\n                            <ion-label><b>Puntuación:</b> {{c.puntuacion}}</ion-label>\\n                        </ion-col>\\n                    </ion-row>\\n                </ion-grid>\\n                <hr>\\n                <ion-item *ngIf=\\\"username\\\">\\n                    <ion-button color=\\\"danger\\\" (click)=\\\"deleteComment(c)\\\" slot=\\\"end\\\">\\n                        <ion-icon name=\\\"trash\\\"></ion-icon>\\n                    </ion-button>\\n                </ion-item>\\n            </ion-card-content>\\n        </ion-card>\\n    </div>\\n\\n</ion-content>\";","export default \"<app-header></app-header>\\n\\n<ion-content>\\n\\n</ion-content>\\n\";","export default \"ion-card-title {\\n  text-align: center;\\n}\\n\\nion-card {\\n  text-align: center;\\n}\\n\\nion-item .center {\\n  text-align: center;\\n}\\n\\nh1 {\\n  text-align: center;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\nhr {\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n  background: var(--ion-color-step-150, #d7d8da);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2VyaWUvc2VyaWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7QUFDSjs7QUFDQTtFQUNJLGtCQUFBO0FBRUo7O0FBQ0E7RUFDSSxrQkFBQTtBQUVKOztBQUNBO0VBQ0ksa0JBQUE7QUFFSjs7QUFDQTtFQUNJLGtCQUFBO0FBRUo7O0FBQ0E7RUFDSSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsOENBQUE7QUFFSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NlcmllL3NlcmllLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jYXJkLXRpdGxlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuIH1cclxuaW9uLWNhcmQge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5pb24taXRlbSAuY2VudGVyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuaDEge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5pb24tdGl0bGUge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5ociB7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1zdGVwLTE1MCwgI2Q3ZDhkYSk7XHJcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController, ToastController } from '@ionic/angular';\nimport { DataService } from 'src/app/services/data.service';\nimport { UserData } from 'src/app/services/userdata.service';\n\n@Component({\n  selector: 'app-serie',\n  templateUrl: './serie.page.html',\n  styleUrls: ['./serie.page.scss'],\n})\nexport class SeriePage implements OnInit {\n  username: any;\n  slug: any;\n  catSlug: any;\n\n  series: any;\n  serie: any;\n  categorias: any;\n\n  usuario = {\n    slug: '',\n    email: '',\n    puntuacion: '',\n    comentario: '',\n    fecha: Date.now()\n  };\n\n  puntuaciones: any;\n\n  comentariosSerie = [];\n\n  /* Para la visualizacion de las diferentes pantallas */\n  cardSerie = false;\n  cardForm = true;\n  cardComentarios = true;\n\n  constructor(private route: ActivatedRoute, private dataService: DataService, private alertCtrl: AlertController,\n    private toastController: ToastController, private router: Router, private userData: UserData) {\n    this.categorias = [];\n    this.series = [];\n    this.puntuaciones = [];\n  }\n\n  ngOnInit() {\n    this.getUsername();\n    this.dataService.getCategorias().subscribe(res => {\n      this.categorias = res;\n    });\n\n    /* Recojo las series del JSON */\n    this.dataService.getSeries().subscribe(res => {\n      const serieSlug = this.route.snapshot.paramMap.get('serieSlug'); //Recojo el enrutamiento necesario para la línea 16 del archivo series.routing.module\n      this.series = res; // Guardo las series\n\n      if (this.series) {\n        for (let i = 0; i < this.series.length; i++) {\n          if (this.series[i].slug === serieSlug) return this.serie = this.series[i]; // Guardo los datos de la serie requerida\n        }\n      }\n    });\n    this.getComentarios();\n  }\n\n  getComentarios () {\n    this.dataService.getComentarios().subscribe(res => {\n      this.puntuaciones = res;\n      for (let i = 0; i < this.puntuaciones.length; i++) {\n        if (this.puntuaciones[i].slug === this.serie.slug) {\n          this.comentariosSerie.push(this.puntuaciones[i]);\n        }\n      }\n      this.comentariosSerie.sort((a, b): any => {\n        if (a['fecha'] < b['fecha']) return 1;\n        if (a['fecha'] > b['fecha']) return -1;\n        return 0;\n      });\n    });\n  }\n\n  getUsername() {\n    this.userData.getUsername().then((username) => {\n      this.username = username;\n    });\n  }\n\n  /* Los datos para el slider */\n  slideOpts = {\n    initialSlide: 0,\n    slidesPerView: 1,\n    autoplay: true\n  };\n\n  mismaCategoria(cat) {\n    for (let i = 0; i < this.categorias.length; i++) {\n      if (cat == this.categorias[i].name) return this.catSlug = this.categorias[i].slug; // Si la categoría es la misma, devuelvo el slug de la categoría requerida\n    }\n  }\n\n  ejecutarFormulario(slugSerie) {\n    this.comentariosSerie.push(this.usuario);\n    /* Reordeno el listado de los comentarios */\n    this.comentariosSerie.sort((a, b): any => {\n      if (a['fecha'] < b['fecha']) return 1;\n      if (a['fecha'] > b['fecha']) return -1;\n      return 0;\n    });\n    this.usuario.slug = slugSerie;\n\n    this.dataService.postComentario(this.usuario).subscribe((response) => {\n      // this.router.navigate['comentarios']\n    });\n\n    /* Reinicio el formulario */\n    this.usuario = {\n      slug: '',\n      email: '',\n      puntuacion: '',\n      comentario: '',\n      fecha: Date.now()\n    };\n\n    this.visualizaciones(false, true, true);\n    this.mostrarToast();\n  }\n\n  async mostrarToast() {\n    const toast = await this.toastController.create({\n      message: 'Has puntuado la serie correctamente.',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  async mostrarToast2() {\n    const toast = await this.toastController.create({\n      message: 'Has eliminado el comentario correctamente.',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  getFecha(fecha) {\n    let date = new Date(fecha);\n    return date.getDate() + '-' + date.getMonth() + '-' + date.getFullYear() + ' ' + date.getHours() + ':' + date.getMinutes();\n  }\n\n  visualizaciones(ficha, form, comens) {\n    this.cardSerie = ficha;\n    this.cardForm = form;\n    this.cardComentarios = comens;\n  }\n\n  puntuacionTotal() {\n    if (this.comentariosSerie.length > 0) {\n      let total = 0;\n      for (let i = 0; i < this.comentariosSerie.length; i++) {\n        total += this.comentariosSerie[i].puntuacion;\n      }\n      return total / this.comentariosSerie.length;\n    }\n    else return \"Todavía no se ha puntuado\";\n  }\n\n  deleteComment(item) {\n    this.dataService.deleteComment(item.id).subscribe(res => {\n      this.comentariosSerie = []; // Reinicio el array\n      this.getComentarios();\n      this.mostrarToast2();\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SeriePage } from '../serie/serie.page';\n\nimport { SeriesPage } from './series.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: SeriesPage\n      },\n      {\n        path: ':serieSlug',\n        component: SeriePage,\n        loadChildren: () => import('../serie/serie.module').then(m => m.SeriePageModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SeriesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SeriesPageRoutingModule } from './series-routing.module';\n\nimport { SeriesPage } from './series.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SeriesPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [SeriesPage]\n})\nexport class SeriesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Nlcmllcy9zZXJpZXMucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-series',\n  templateUrl: './series.page.html',\n  styleUrls: ['./series.page.scss'],\n})\nexport class SeriesPage implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n"],"sourceRoot":"webpack:///"}