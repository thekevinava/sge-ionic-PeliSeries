{"version":3,"sources":["./src/app/pages/categories/categories.page.html","./src/app/pages/category/category.page.html","./src/app/pages/categories/categories-routing.module.ts","./src/app/pages/categories/categories.module.ts","./src/app/pages/categories/categories.page.scss","./src/app/pages/categories/categories.page.ts","./src/app/pages/category/category.page.scss","./src/app/pages/category/category.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,8NAA+J,QAAQ,qMAAqM,UAAU,wGAAwG,E;;;;;;;;;;;;ACA7e;AAAe,uFAAwB,iBAAiB,qQAAqQ,WAAW,kJAAkJ,4FAA4F,MAAM,gDAAgD,OAAO,iHAAiH,QAAQ,ibAAib,E;;;;;;;;;;;;;;;;;;;;ACApnC;AACc;AACE;AAEN;AAEnD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,QAAQ,EAAE;YACR;gBACE,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,+DAAc;aAC1B;YACD;gBACE,IAAI,EAAE,eAAe;gBACrB,SAAS,EAAE,oEAAY;gBACvB,YAAY,EAAE,GAAG,EAAE,CAAC,mNAAqC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,kBAAkB,CAAC;aAC1F;SACF;KACF;CACF,CAAC;IAMW,2BAA2B,SAA3B,2BAA2B;CAAG;AAA9B,2BAA2B;IAJvC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,2BAA2B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AC3BC;AACM;AACF;AAEA;AAE6B;AAEvB;AACqB;IAY3D,oBAAoB,SAApB,oBAAoB;CAAG;AAAvB,oBAAoB;IAVhC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,sFAA2B;YAC3B,qFAAgB;SACjB;QACD,YAAY,EAAE,CAAC,+DAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB,CAAG;AAAH;;;;;;;;;;;;;ACrBjC;AAAe,6GAA8C,2JAA2J,E;;;;;;;;;;;;;;;;;;ACAtK;AACU;IAO/C,cAAc,SAAd,cAAc;IAGzB,YAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAC1C,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACtB,CAAC;IAEF,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC/C,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACxB,CAAC,CAAC;IACJ,CAAC;CAEF;;YApBQ,yEAAW;;AAOP,cAAc;IAL1B,+DAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,sOAAqC;;KAEtC,CAAC;GACW,cAAc,CAa1B;AAb0B;;;;;;;;;;;;;ACR3B;AAAe,mFAAoB,8BAA8B,GAAG,cAAc,8BAA8B,uBAAuB,GAAG,oBAAoB,uBAAuB,GAAG,6CAA6C,unBAAunB,E;;;;;;;;;;;;;;;;;;;ACA1yB;AACD;AACW;IAO/C,YAAY,SAAZ,YAAY;IAYvB,YAAoB,KAAqB,EAAU,WAAwB;QAAvD,UAAK,GAAL,KAAK,CAAgB;QAAU,gBAAW,GAAX,WAAW,CAAa;QAN3E,oBAAe,GAAG,EAAE,CAAC,CAAC,+CAA+C;QACrE,gBAAW,GAAG,EAAE,CAAC,CAAC,kDAAkD;QAEpE,WAAM,GAAW,CAAC,CAAC;QAIjB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACnB,CAAC;IAED,QAAQ;QACN,oCAAoC;QACpC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC/C,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,yFAAyF;YAChK,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,wBAAwB;YAE/C,IAAI,GAAG,EAAE;gBACP,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE;oBAC5C,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,YAAY;wBAAE,OAAO,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,6CAA6C;iBACxI;aACF;QACH,CAAC,CAAC,CAAC;QAEH,+BAA+B;QAC/B,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC3C,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC,4BAA4B;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE;gBACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;oBACrD,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE;wBACvD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,kDAAkD;qBAC9F;iBACF;aACF;YACD,uDAAuD;YACvD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,CAAC,EAAO,EAAE;gBACrC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;oBAAE,OAAO,CAAC,CAAC;gBACpC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;oBAAE,OAAO,CAAC,CAAC,CAAC;gBACrC,OAAO,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,qFAAqF;QAC5G,CAAC,CAAC,CAAC;IACL,CAAC;IAEC,kEAAkE;IAClE,QAAQ,CAAC,KAAK;QACZ,UAAU,CAAC,GAAG,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,6BAA6B;YAClD,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,6BAA6B;YACtD,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM;gBAAE,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,0DAA0D;QAC3I,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,YAAY;QACV,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YAC1B,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM;gBAAE,OAAO,CAAC,2EAA2E;YACpI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACzD,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAEH,8DAA8D;IAC9D,cAAc,CAAC,GAAG;QAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC/C,IAAI,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI;gBAAE,OAAO,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,0EAA0E;SAC3J;IACH,CAAC;CAEF;;YAnFQ,8DAAc;YACd,yEAAW;;AAOP,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,gOAAmC;;KAEpC,CAAC;GACW,YAAY,CA2ExB;AA3EwB","file":"pages-categories-categories-module-es2015.js","sourcesContent":["export default \"<app-header titulo=\\\"Categorías\\\"></app-header>\\n\\n<ion-content>\\n    <ion-list>\\n        <ion-item *ngFor=\\\"let s of categorias\\\" routerLink=\\\"/categories/{{s.slug}}\\\">\\n            <ion-avatar slot=\\\"start\\\">\\n                <ion-img [src]=\\\"s.image\\\"></ion-img>\\n            </ion-avatar>\\n            <ion-label>\\n                <h3>\\n                    {{ s.name }}\\n                </h3>\\n            </ion-label>\\n        </ion-item>\\n    </ion-list>\\n</ion-content>\";","export default \"<app-header titulo=\\\"{{categoria?.name}}\\\"></app-header>\\n<ion-content>\\n    <ion-item *ngFor=\\\"let s of seriesFinal\\\">\\n        <ion-card style=\\\"width: 100%\\\">\\n            <ion-img [src]=\\\"s.images[0]\\\"></ion-img>\\n            <ion-card-header>\\n                <ion-card-title color=\\\"warning\\\">{{ s.title }}</ion-card-title>\\n            </ion-card-header>\\n            <ion-card-content>\\n                <ng-container *ngFor=\\\"let cat of s.categories;\\\">\\n                    <ion-chip *ngIf=\\\"mismaCategoria(cat)\\\" routerLink=\\\"/categories/{{slug}}\\\" color=\\\"danger\\\">\\n                        {{ cat }}\\n                    </ion-chip>\\n                </ng-container>\\n                <ion-button href=\\\"/series/{{s.slug}}\\\"  color=\\\"verdecito\\\" shape=\\\"round\\\" strong=\\\"true\\\" expand=\\\"block\\\">Ir</ion-button>\\n            </ion-card-content>\\n        </ion-card>\\n    </ion-item>\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Cargando más series...\\\">\\n        </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CategoryPage } from '../category/category.page';\n\nimport { CategoriesPage } from './categories.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: CategoriesPage\n      },\n      {\n        path: ':categorySlug',\n        component: CategoryPage,\n        loadChildren: () => import('../category/category.module').then(m => m.CategoryPageModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoriesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoriesPageRoutingModule } from './categories-routing.module';\n\nimport { CategoriesPage } from './categories.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CategoriesPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [CategoriesPage]\n})\nexport class CategoriesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NhdGVnb3JpZXMvY2F0ZWdvcmllcy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { DataService } from 'src/app/services/data.service';\n\n@Component({\n  selector: 'app-categories',\n  templateUrl: './categories.page.html',\n  styleUrls: ['./categories.page.scss'],\n})\nexport class CategoriesPage implements OnInit {\n  categorias: any;\n\n  constructor(private dataService: DataService) {\n    this.categorias = [];\n   }\n\n  ngOnInit() {\n    this.dataService.getCategorias().subscribe(res => {\n      this.categorias = res;\n    })\n  }\n\n}\n","export default \"ion-card ion-chip {\\n  background-color: #8ecae6;\\n}\\n\\nion-card {\\n  background-color: #023047;\\n  text-align: center;\\n}\\n\\nion-card-title {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2F0ZWdvcnkvY2F0ZWdvcnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7QUFDSjs7QUFFQTtFQUNJLHlCQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jYXRlZ29yeS9jYXRlZ29yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCBpb24tY2hpcCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGVjYWU2OyAvLyBibGFja1xyXG59XHJcblxyXG5pb24tY2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDIzMDQ3OyAvLyBibGFja1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5pb24tY2FyZC10aXRsZSB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiB9XHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { DataService } from 'src/app/services/data.service';\n\n@Component({\n  selector: 'app-category',\n  templateUrl: './category.page.html',\n  styleUrls: ['./category.page.scss'],\n})\nexport class CategoryPage implements OnInit {\n  slug: any; // Slug de la categoría mostrada en el card Serie\n  categoria: any; // Los datos de la categoría a mostrar\n  categorias: any; // Listado de categorías\n  \n  series: any; // Listado de series\n  seriesCategoria = []; // Listados de series de la categoria requerida\n  seriesFinal = []; // Listado de series a mostrar con Infinite Scroll\n\n  cuenta: number = 0;\n\n\n  constructor(private route: ActivatedRoute, private dataService: DataService) {\n    this.categorias = [];\n    this.series = [];\n  }\n\n  ngOnInit() {\n    /* Recojo las categorías del JSON */\n    this.dataService.getCategorias().subscribe(res => {\n      const categorySlug = this.route.snapshot.paramMap.get('categorySlug'); //Recojo el enrutamiento necesario para la línea 16 del archivo categories-routing.module\n      this.categorias = res; // Guardo las categorías\n\n      if (res) {\n        for (let i = 0; i<this.categorias.length;i++) {\n          if (this.categorias[i].slug === categorySlug) return this.categoria = this.categorias[i]; // Guardo los datos de la categoría requerida\n        }\n      }\n    });\n\n    /* Recojo las series del JSON*/\n    this.dataService.getSeries().subscribe(res => {\n      this.series = res; // Primero recojo las series\n      for (let i = 0; i<this.series.length;i++) {\n        for (let j = 0; j<this.series[i].categories.length;j++){\n          if (this.series[i].categories[j] == this.categoria.name) {\n            this.seriesCategoria.push(this.series[i]); // Recojo las series que tengan la misma categoria\n          }\n        }\n      }\n      /* Ordeno las series de más recientes a más antiguas */\n      this.seriesCategoria.sort((a,b): any => {\n        if (a['year'] < b['year']) return 1;\n        if (a['year'] > b['year']) return -1;\n        return 0;\n      });\n      this.addMoreItems(); // Llamo a la variable que se encarga de publicar los elementos en category.page.html\n    });\n  }\n\n    /* Leo los datos del home.page.html respecto al Infinite Scroll */\n    loadData(event) {\n      setTimeout(() => {\n        console.log('Loaded'); \n        this.addMoreItems(); // Cargo más datos si existen\n        event.target.complete(); // Completo la carga de datos\n        if (this.seriesCategoria.length === this.cuenta) event.target.disabled = true; // Si he completado la carga, desactivo el Infinite Scroll\n      }, 500);\n    }\n  \n    addMoreItems() {\n      for (let i = 0; i < 4; i++) {\n        if (this.seriesCategoria.length === this.cuenta) return; // Si he completado la carga de datos, no añade más información innecesaria\n        this.seriesFinal.push(this.seriesCategoria[this.cuenta]);\n        this.cuenta++;\n      }\n    }\n\n  /* Función para poder pasar la ruta al chip de la categoría */\n  mismaCategoria(cat) {\n    for (let i = 0; i < this.categorias.length; i++) {\n      if (cat == this.categorias[i].name) return this.slug = this.categorias[i].slug; // Si la categoría es la misma, devuelvo el slug de la categoría requerida\n    }\n  }\n\n}"],"sourceRoot":"webpack:///"}