{"version":3,"sources":["webpack:///src/app/pages/categories/categories.page.html","webpack:///src/app/pages/category/category.page.html","webpack:///src/app/pages/categories/categories-routing.module.ts","webpack:///src/app/pages/categories/categories.module.ts","webpack:///src/app/pages/categories/categories.page.scss","webpack:///src/app/pages/categories/categories.page.ts","webpack:///src/app/pages/category/category.page.scss","webpack:///src/app/pages/category/category.page.ts"],"names":["routes","path","children","component","loadChildren","then","m","CategoryPageModule","CategoriesPageRoutingModule","imports","forChild","exports","CategoriesPageModule","declarations","CategoriesPage","dataService","categorias","getCategorias","subscribe","res","selector","template","CategoryPage","route","seriesCategoria","seriesFinal","cuenta","series","categorySlug","snapshot","paramMap","get","i","length","slug","categoria","getSeries","j","categories","name","push","sort","a","b","addMoreItems","event","setTimeout","console","log","target","complete","disabled","cat"],"mappings":"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","file":"pages-categories-categories-module-es5.js","sourcesContent":["export default \"<app-header titulo=\\\"Categorías\\\"></app-header>\\n\\n<ion-content>\\n    <ion-list>\\n        <ion-item *ngFor=\\\"let s of categorias\\\" routerLink=\\\"/categories/{{s.slug}}\\\">\\n            <ion-avatar slot=\\\"start\\\">\\n                <ion-img [src]=\\\"s.image\\\"></ion-img>\\n            </ion-avatar>\\n            <ion-label>\\n                <h3>\\n                    {{ s.name }}\\n                </h3>\\n            </ion-label>\\n        </ion-item>\\n    </ion-list>\\n</ion-content>\";","export default \"<app-header titulo=\\\"{{categoria?.name}}\\\"></app-header>\\n<ion-content>\\n    <ion-item *ngFor=\\\"let s of seriesFinal\\\">\\n        <ion-card style=\\\"width: 100%\\\">\\n            <ion-img [src]=\\\"s.images[0]\\\"></ion-img>\\n            <ion-card-header>\\n                <ion-card-title color=\\\"warning\\\">{{ s.title }}</ion-card-title>\\n            </ion-card-header>\\n            <ion-card-content>\\n                <ng-container *ngFor=\\\"let cat of s.categories;\\\">\\n                    <ion-chip *ngIf=\\\"mismaCategoria(cat)\\\" routerLink=\\\"/categories/{{slug}}\\\" color=\\\"danger\\\">\\n                        {{ cat }}\\n                    </ion-chip>\\n                </ng-container>\\n                <ion-button href=\\\"/series/{{s.slug}}\\\"  color=\\\"verdecito\\\" shape=\\\"round\\\" strong=\\\"true\\\" expand=\\\"block\\\">Ir</ion-button>\\n            </ion-card-content>\\n        </ion-card>\\n    </ion-item>\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Cargando más series...\\\">\\n        </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CategoryPage } from '../category/category.page';\n\nimport { CategoriesPage } from './categories.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: CategoriesPage\n      },\n      {\n        path: ':categorySlug',\n        component: CategoryPage,\n        loadChildren: () => import('../category/category.module').then(m => m.CategoryPageModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoriesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoriesPageRoutingModule } from './categories-routing.module';\n\nimport { CategoriesPage } from './categories.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CategoriesPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [CategoriesPage]\n})\nexport class CategoriesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NhdGVnb3JpZXMvY2F0ZWdvcmllcy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { DataService } from 'src/app/services/data.service';\n\n@Component({\n  selector: 'app-categories',\n  templateUrl: './categories.page.html',\n  styleUrls: ['./categories.page.scss'],\n})\nexport class CategoriesPage implements OnInit {\n  categorias: any;\n\n  constructor(private dataService: DataService) {\n    this.categorias = [];\n   }\n\n  ngOnInit() {\n    this.dataService.getCategorias().subscribe(res => {\n      this.categorias = res;\n    })\n  }\n\n}\n","export default \"ion-card ion-chip {\\n  background-color: #8ecae6;\\n}\\n\\nion-card {\\n  background-color: #023047;\\n  text-align: center;\\n}\\n\\nion-card-title {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2F0ZWdvcnkvY2F0ZWdvcnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7QUFDSjs7QUFFQTtFQUNJLHlCQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jYXRlZ29yeS9jYXRlZ29yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCBpb24tY2hpcCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGVjYWU2OyAvLyBibGFja1xyXG59XHJcblxyXG5pb24tY2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDIzMDQ3OyAvLyBibGFja1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5pb24tY2FyZC10aXRsZSB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiB9XHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { DataService } from 'src/app/services/data.service';\n\n@Component({\n  selector: 'app-category',\n  templateUrl: './category.page.html',\n  styleUrls: ['./category.page.scss'],\n})\nexport class CategoryPage implements OnInit {\n  slug: any; // Slug de la categoría mostrada en el card Serie\n  categoria: any; // Los datos de la categoría a mostrar\n  categorias: any; // Listado de categorías\n  \n  series: any; // Listado de series\n  seriesCategoria = []; // Listados de series de la categoria requerida\n  seriesFinal = []; // Listado de series a mostrar con Infinite Scroll\n\n  cuenta: number = 0;\n\n\n  constructor(private route: ActivatedRoute, private dataService: DataService) {\n    this.categorias = [];\n    this.series = [];\n  }\n\n  ngOnInit() {\n    /* Recojo las categorías del JSON */\n    this.dataService.getCategorias().subscribe(res => {\n      const categorySlug = this.route.snapshot.paramMap.get('categorySlug'); //Recojo el enrutamiento necesario para la línea 16 del archivo categories-routing.module\n      this.categorias = res; // Guardo las categorías\n\n      if (res) {\n        for (let i = 0; i<this.categorias.length;i++) {\n          if (this.categorias[i].slug === categorySlug) return this.categoria = this.categorias[i]; // Guardo los datos de la categoría requerida\n        }\n      }\n    });\n\n    /* Recojo las series del JSON*/\n    this.dataService.getSeries().subscribe(res => {\n      this.series = res; // Primero recojo las series\n      for (let i = 0; i<this.series.length;i++) {\n        for (let j = 0; j<this.series[i].categories.length;j++){\n          if (this.series[i].categories[j] == this.categoria.name) {\n            this.seriesCategoria.push(this.series[i]); // Recojo las series que tengan la misma categoria\n          }\n        }\n      }\n      /* Ordeno las series de más recientes a más antiguas */\n      this.seriesCategoria.sort((a,b): any => {\n        if (a['year'] < b['year']) return 1;\n        if (a['year'] > b['year']) return -1;\n        return 0;\n      });\n      this.addMoreItems(); // Llamo a la variable que se encarga de publicar los elementos en category.page.html\n    });\n  }\n\n    /* Leo los datos del home.page.html respecto al Infinite Scroll */\n    loadData(event) {\n      setTimeout(() => {\n        console.log('Loaded'); \n        this.addMoreItems(); // Cargo más datos si existen\n        event.target.complete(); // Completo la carga de datos\n        if (this.seriesCategoria.length === this.cuenta) event.target.disabled = true; // Si he completado la carga, desactivo el Infinite Scroll\n      }, 500);\n    }\n  \n    addMoreItems() {\n      for (let i = 0; i < 4; i++) {\n        if (this.seriesCategoria.length === this.cuenta) return; // Si he completado la carga de datos, no añade más información innecesaria\n        this.seriesFinal.push(this.seriesCategoria[this.cuenta]);\n        this.cuenta++;\n      }\n    }\n\n  /* Función para poder pasar la ruta al chip de la categoría */\n  mismaCategoria(cat) {\n    for (let i = 0; i < this.categorias.length; i++) {\n      if (cat == this.categorias[i].name) return this.slug = this.categorias[i].slug; // Si la categoría es la misma, devuelvo el slug de la categoría requerida\n    }\n  }\n\n}"]}