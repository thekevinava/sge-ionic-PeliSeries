{"version":3,"sources":["./src/app/pages/admin/comments/comments.page.html","./src/app/pages/admin/comments/comments-routing.module.ts","./src/app/pages/admin/comments/comments.module.ts","./src/app/pages/admin/comments/comments.page.scss","./src/app/pages/admin/comments/comments.page.ts"],"names":[],"mappings":"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","file":"pages-admin-comments-comments-module-es2015.js","sourcesContent":["export default \"<!-- <app-header titulo=\\\"Comentarios de {{serieData?.title}}\\\"></app-header> -->\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ng-container *ngIf=\\\"username\\\">\\n    <ion-buttons>\\n      <ion-back-button color=\\\"warning\\\" text=\\\"Volver al listado de series\\\" defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-back-button color=\\\"warning\\\" text=\\\"Volver al listado de series\\\" routerLink=\\\"/\\\">Volver al listado de series</ion-back-button>\\n    <!-- <ion-button expand=\\\"full\\\" color=\\\"warning\\\" fill=\\\"outline\\\" routerLinkActive=\\\"/\\\">Volver al listado de series</ion-button> -->\\n    <ion-item>\\n      <ion-label>Comentarios recientes de {{ serieData?.title }}</ion-label>\\n    </ion-item>\\n    <ion-card *ngFor=\\\"let c of commentsSerie\\\">\\n      <ion-card-content class=\\\"ion-padding\\\">\\n        <ion-grid>\\n            <ion-row>\\n                <ion-col size=\\\"3\\\">\\n                    <ion-thumbnail>\\n                        <img src=\\\"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y\\\">\\n                    </ion-thumbnail>\\n                </ion-col >\\n                <ion-col>\\n                    <ion-label><b>Fecha:</b> {{getFecha(c.fecha)}}</ion-label><br>\\n                    <ion-label><b>Email:</b> {{c.email}}</ion-label><br>\\n                    <ion-label><b>Comentario:</b>\\n                        <hr> {{c.comentario}}\\n                        <hr>\\n                    </ion-label>\\n                    <ion-label><b>Puntuaci√≥n:</b> {{c.puntuacion}}</ion-label>\\n                </ion-col>\\n            </ion-row>\\n            <hr>\\n            <ion-item>\\n              <ion-button (click)=\\\"delete(c)\\\" slot=\\\"end\\\"><ion-icon name=\\\"trash\\\"></ion-icon></ion-button>\\n            </ion-item>\\n        </ion-grid>\\n    </ion-card-content>\\n    </ion-card>\\n  </ng-container>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CommentsPage } from './comments.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: CommentsPage\n      },\n      {\n        path: ':serieID',\n        component: CommentsPage\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CommentsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CommentsPageRoutingModule } from './comments-routing.module';\n\nimport { CommentsPage } from './comments.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CommentsPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [CommentsPage]\n})\nexport class CommentsPageModule {}\n","export default \"hr {\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n  background: var(--ion-color-step-150, #d7d8da);\\n}\\n\\nion-label {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWRtaW4vY29tbWVudHMvY29tbWVudHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLDhDQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtBQUNKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRtaW4vY29tbWVudHMvY29tbWVudHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaHIge1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsICNkN2Q4ZGEpO1xyXG59XHJcblxyXG5pb24tbGFiZWwge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { DataService } from 'src/app/services/data.service';\nimport { UserData } from 'src/app/services/userdata.service';\n\n@Component({\n  selector: 'app-comments',\n  templateUrl: './comments.page.html',\n  styleUrls: ['./comments.page.scss'],\n})\nexport class CommentsPage implements OnInit {\n  username: any;\n  serieData: any;\n  commentsData: any;\n  commentsSerie: any;\n\n  id: any;\n\n  constructor(private dataService: DataService, private userData: UserData, private activatedRoute: ActivatedRoute, private toastController: ToastController) { \n    this.serieData = [];\n    this.commentsData = [];\n    this.commentsSerie = [];\n  }\n\n  ngOnInit() {\n    this.getUsername();\n    this.id = this.activatedRoute.snapshot.params[\"serieID\"];\n    this.dataService.getSerie(this.id).subscribe(res => {\n      this.serieData = res;\n    });\n\n    this.getComentarios();\n  }\n\n  getComentarios() {\n    this.dataService.getComentarios().subscribe(res => {\n      this.commentsData = res;\n      for (let i = 0; i<this.commentsData.length;i++) {\n        if (this.serieData.slug === this.commentsData[i].slug) {\n          this.commentsSerie.push(this.commentsData[i]);\n        }\n      }\n    });\n  }\n\n  getUsername() {\n    this.userData.getUsername().then((username) => {\n      this.username = username;\n    });\n  }\n\n  getFecha(fecha) {\n    let date = new Date(fecha);\n    return date.getDate()+'-'+date.getMonth()+'-'+date.getFullYear()+' '+date.getHours()+':'+date.getMinutes();\n  }\n\n  delete(item) {\n    this.dataService.deleteComment(item.id).subscribe(res => {\n      this.commentsSerie = []; // Reinicio el array\n      this.getComentarios();\n      this.mostrarToast();\n    });\n  }\n\n  async mostrarToast() {\n    const toast = await this.toastController.create({\n      message: 'Has eliminado el comentario correctamente.',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}