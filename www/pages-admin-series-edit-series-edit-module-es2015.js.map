{"version":3,"sources":["./src/app/pages/admin/series-edit/series-edit.page.html","./src/app/pages/admin/series-edit/series-edit-routing.module.ts","./src/app/pages/admin/series-edit/series-edit.module.ts","./src/app/pages/admin/series-edit/series-edit.page.scss","./src/app/pages/admin/series-edit/series-edit.page.ts"],"names":[],"mappings":"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","file":"pages-admin-series-edit-series-edit-module-es2015.js","sourcesContent":["export default \"<app-header titulo=\\\"Edit {{serieData?.title}}\\\"></app-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n    <ng-container *ngIf=\\\"username\\\">\\n        <form #createForm=\\\"ngForm\\\">\\n            <!-- <ion-list> -->\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Titulo</ion-label>\\n                <ion-input [(ngModel)]=\\\"serieData.title\\\" name=\\\"titulo\\\" type=\\\"text\\\" required></ion-input>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Slug (/series/serie)</ion-label>\\n                <ion-input [(ngModel)]=\\\"serieData.slug\\\" name=\\\"slug\\\" type=\\\"text\\\" required></ion-input>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Año de emisión</ion-label>\\n                <ion-input [(ngModel)]=\\\"serieData.year\\\" name=\\\"year\\\" type=\\\"number\\\" required></ion-input>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Sinopsis</ion-label>\\n                <ion-textarea [(ngModel)]=\\\"serieData.sinopsis\\\" name=\\\"sinopsis\\\" required></ion-textarea>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Temporadas</ion-label>\\n                <ion-input [(ngModel)]=\\\"serieData.seasons\\\" name=\\\"seasons\\\" type=\\\"number\\\" required></ion-input>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Capítulos</ion-label>\\n                <ion-input [(ngModel)]=\\\"serieData.episodes\\\" name=\\\"episodes\\\" type=\\\"number\\\" required></ion-input>\\n            </ion-item>\\n            <!-- Select con los todas las categorías existentes -->\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Categorias</ion-label>\\n                <ion-select [(ngModel)]=\\\"serieData.categories\\\" name=\\\"categories\\\" multiple=\\\"true\\\" required>\\n                    <ng-container *ngFor=\\\"let c of categoriesData\\\">\\n                        <ion-select-option [value]=\\\"c.name\\\">{{ c.name }}</ion-select-option>\\n                    </ng-container>\\n                </ion-select>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"floating\\\">Imagenes (rutas separadas por coma)</ion-label>\\n                <ion-textarea [(ngModel)]=\\\"images\\\" name=\\\"images\\\" required></ion-textarea>\\n                <!-- <ion-textarea [(ngModel)]=\\\"images\\\" name=\\\"images\\\" required></ion-textarea> -->\\n            </ion-item>\\n            <ion-button routerLink=\\\"/admin/home\\\" (click)=\\\"update()\\\" expand=\\\"block\\\">Enviar</ion-button>\\n            <!-- </ion-list> -->\\n        </form>\\n    </ng-container>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SeriesEditPage } from './series-edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: SeriesEditPage\n      },\n      {\n        path: ':serieID',\n        component: SeriesEditPage\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SeriesEditPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SeriesEditPageRoutingModule } from './series-edit-routing.module';\n\nimport { SeriesEditPage } from './series-edit.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SeriesEditPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [SeriesEditPage]\n})\nexport class SeriesEditPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FkbWluL3Nlcmllcy1lZGl0L3Nlcmllcy1lZGl0LnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { last } from 'rxjs/operators';\nimport { DataService } from 'src/app/services/data.service';\nimport { UserData } from 'src/app/services/userdata.service';\n\n@Component({\n  selector: 'app-series-edit',\n  templateUrl: './series-edit.page.html',\n  styleUrls: ['./series-edit.page.scss'],\n})\nexport class SeriesEditPage implements OnInit {\n  username: any;\n  serieData: any;\n  id: any;\n  images: any;\n  categoriesData: any;\n\n\n  constructor(private dataService: DataService, private userData: UserData, private activatedRoute: ActivatedRoute, private toastController: ToastController) { \n    this.serieData = [];\n    this.images = \"\";\n    this.categoriesData = [];\n  }\n\n  ngOnInit() {\n    this.getUsername();\n    this.id = this.activatedRoute.snapshot.params[\"serieID\"];\n    this.dataService.getSerie(this.id).subscribe(res => {\n      this.serieData = res;\n      for (let i = 0; i<this.serieData.images.length;i++) {\n        console.log(this.serieData.images[i])\n        this.images += this.serieData.images[i] + ',';\n      }\n      this.images = this.images.slice(0,-1); // Elimino la última coma\n    });\n\n    this.dataService.getCategorias().subscribe(res => {\n      this.categoriesData = res;\n    });\n  }\n\n  getUsername() {\n    this.userData.getUsername().then((username) => {\n      this.username = username;\n    });\n  }\n\n  update() {\n    this.dataService.updateSerie(this.id, this.serieData).subscribe(res => { \n      this.mostrarToast();\n    });\n  }\n\n  async mostrarToast() {\n    const toast = await this.toastController.create({\n      message: 'Has editado la serie correctamente.',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}